<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="tekvideo-dash-s-views-graph.html">
<link rel="import" href="tekvideo-dash-s-views-popular.html">
<link rel="import" href="tekvideo-dash-s-answers-interactive.html">
<link rel="import" href="tekvideo-dash-d-answers-interactive.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="tekvideo-math-field.html">
<link rel="import" href="tekvideo-player.html">
<link rel="import" href="tekvideo-dash-s-students.html">

<dom-module id="tekvideo-dashboard">
<template>
    <style include="iron-flex"></style>
    <style is="custom-style">
    :host {
        display: block;
        --app-primary-color: #4285f4;
        --app-secondary-color: black;
    }
    app-header {
        background-color: var(--app-primary-color);
        color: #fff;
    }
    app-header paper-icon-button {
        --paper-icon-button-ink-color: white;
    }
    .drawer-list {
        margin: 0 20px;
    }
    .drawer-list a {
        display: block;
        padding: 0 16px;
        line-height: 40px;
        text-decoration: none;
        color: var(--app-secondary-color);
    }
    .drawer-list a.iron-selected {
        color: black;
        font-weight: bold;
    }
    .drawer-list a.subroute {
        padding-left: 32px;
    }

    #container * {
        margin: 10px;
        width: 960px;
    }
    </style>

    <div id="container" fullbleed class="layout vertical center">
        <tekvideo-math-field></tekvideo-math-field>
        <tekvideo-dash-s-views-graph
            class="stats-card"
            node="{{node}}"
            period-from="{{periodFrom}}"
            period-to="{{periodTo}}"
            base-url="{{baseUrl}}">
        </tekvideo-dash-s-views-graph>

        <tekvideo-dash-s-views-popular
            class="stats-card"
            node="{{node}}"
            period-from="{{periodFrom}}"
            period-to="{{periodTo}}"
            base-url="{{baseUrl}}">
        </tekvideo-dash-s-views-popular>

        <tekvideo-dash-s-answers-interactive
            class="stats-card"
            node="{{node}}"
            period-from="{{periodFrom}}"
            period-to="{{periodTo}}"
            base-url="{{baseUrl}}">
        </tekvideo-dash-s-answers-interactive>

        <tekvideo-dash-d-answers-interactive
            class="stats-card"
            node="{{node}}"
            period-from="{{periodFrom}}"
            period-to="{{periodTo}}"
            base-url="{{baseUrl}}">
        </tekvideo-dash-d-answers-interactive>

        <tekvideo-dash-s-students
            class="stats-card"
            node="{{node}}"
            period-from="{{periodFrom}}"
            period-to="{{periodTo}}"
            base-url="{{baseUrl}}">
        </tekvideo-dash-s-students>
    </div>

    

</template>

<script>
    Polymer({
        is: 'tekvideo-dashboard',
        properties: {
            page: {
                type: String,
                reflectToAttribute: true,
                observer: '_pageChanged'
            },
            node: {
                type: String,
                value: "course/7"
            },
            periodFrom: {
                type: Number,
                value: 0
            },
            periodTo: {
                type: Number,
                value: 1471008336499
            },
            baseUrl: {
                type: String,
                value: "http://localhost:8080/tekvideo/"
            }
        },
        observers: [
            '_routePageChanged(routeData.page)'
        ],
        _routePageChanged: function(page) {
            this.page = page || 'home';
        },
        _pageChanged: function(page) {
            // load page import on demand.
            this.importHref(
            this.resolveUrl('tekvideo-dash-' + page + '.html'), null, null, true);
        }
    });
</script>
</dom-module>